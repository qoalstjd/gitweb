{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useContext } from 'react';\nimport { createBrowserHistory } from 'history';\nimport { ModalsDispatchContext } from '../modal/ModalsContext';\nconst history = createBrowserHistory();\nexport default function useModals() {\n  _s();\n  const {\n    open,\n    close\n  } = useContext(ModalsDispatchContext);\n\n  // 히스토리의 변경을 감지하기 위한 listen 함수\n  const unlisten = history.listen(() => {\n    close();\n  });\n\n  // 컴포넌트가 언마운트될 때 리스너 해제\n  useEffect(() => {\n    return () => {\n      unlisten();\n    };\n  }, [unlisten]);\n  const openModal = (Component, props) => {\n    open(Component, props);\n  };\n  const closeModal = () => {\n    close();\n    history.goBack();\n  };\n  return {\n    openModal,\n    closeModal\n  };\n}\n_s(useModals, \"NELg9m7CsPs220glqywxEw0Sq3Y=\");","map":{"version":3,"names":["useEffect","useContext","createBrowserHistory","ModalsDispatchContext","history","useModals","_s","open","close","unlisten","listen","openModal","Component","props","closeModal","goBack"],"sources":["/Users/maegmini/Documents/study/pension-bonjour/src/components/hooks/useModals.js"],"sourcesContent":["import { useEffect, useContext } from 'react';\nimport { createBrowserHistory } from 'history';\nimport { ModalsDispatchContext } from '../modal/ModalsContext';\n\nconst history = createBrowserHistory();\n\nexport default function useModals() {\n\tconst { open, close } = useContext(ModalsDispatchContext);\n\n\t// 히스토리의 변경을 감지하기 위한 listen 함수\n\tconst unlisten = history.listen(() => {\n\t\tclose();\n\t});\n\n\t// 컴포넌트가 언마운트될 때 리스너 해제\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tunlisten();\n\t\t};\n\t}, [unlisten]);\n\n\tconst openModal = (Component, props) => {\n\t\topen(Component, props);\n\t};\n\n\tconst closeModal = () => {\n\t\tclose();\n\t\thistory.goBack();\n\t};\n\n\treturn {\n\t\topenModal,\n\t\tcloseModal,\n\t};\n}\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,UAAU,QAAQ,OAAO;AAC7C,SAASC,oBAAoB,QAAQ,SAAS;AAC9C,SAASC,qBAAqB,QAAQ,wBAAwB;AAE9D,MAAMC,OAAO,GAAGF,oBAAoB,CAAC,CAAC;AAEtC,eAAe,SAASG,SAASA,CAAA,EAAG;EAAAC,EAAA;EACnC,MAAM;IAAEC,IAAI;IAAEC;EAAM,CAAC,GAAGP,UAAU,CAACE,qBAAqB,CAAC;;EAEzD;EACA,MAAMM,QAAQ,GAAGL,OAAO,CAACM,MAAM,CAAC,MAAM;IACrCF,KAAK,CAAC,CAAC;EACR,CAAC,CAAC;;EAEF;EACAR,SAAS,CAAC,MAAM;IACf,OAAO,MAAM;MACZS,QAAQ,CAAC,CAAC;IACX,CAAC;EACF,CAAC,EAAE,CAACA,QAAQ,CAAC,CAAC;EAEd,MAAME,SAAS,GAAGA,CAACC,SAAS,EAAEC,KAAK,KAAK;IACvCN,IAAI,CAACK,SAAS,EAAEC,KAAK,CAAC;EACvB,CAAC;EAED,MAAMC,UAAU,GAAGA,CAAA,KAAM;IACxBN,KAAK,CAAC,CAAC;IACPJ,OAAO,CAACW,MAAM,CAAC,CAAC;EACjB,CAAC;EAED,OAAO;IACNJ,SAAS;IACTG;EACD,CAAC;AACF;AAACR,EAAA,CA5BuBD,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}